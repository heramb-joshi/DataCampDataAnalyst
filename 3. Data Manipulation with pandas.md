# Introducing DataFrames
## DataFrames
>**Pandas is based on NumPy and Matplotlib packages**
- In pandas, the rectangular data is stored as dataFrame object
- Every column in the dataFrame contain the same data type but different column can contain different data types

>**Ways of Exploring the data frame**
- .head() - display first five rows of the dataFrame
- .info() - displays names of columns, the data type and whether it has any missing columns
- .shape  - displays the dimension of the dataset into (rows, columns). Note that, this is an attribute and not a method hence the paranthesis is not required
- .describe() - computes some summary statstics for the columns. Provides quick overview of the numeric clumns
> Dataframes consists of three components, accessible through attributes
- .values - contains the data values reprenseted in 2D- NumPy array 1 array for each row 
- .columns - contains columns names
- .index - contains row numbers or row names

>**Exapmle - Pandas Dataset exploration**
```python
# Print the head of the homelessness data
print(homelessness.head())

# Print information about homelessness
print(homelessness.info())

# Print the shape of homelessness
print(homelessness.shape)

# Print a description of homelessness
print(homelessness.describe())

# Import pandas using the alias pd
import pandas as pd

# Print the values of homelessness
print(homelessness.values)

# Print the column index of homelessness
print(homelessness.columns)

# Print the row index of homelessness
print(homelessness.index)
```

## Sorting and Subsetting
### Sorting

>**Changing order of rows by sorting**
```python
df.sort_values("column_name") #Will sort datafrmae in the ascending order
df.sort_values("column_name", ascending=Fales) # Will sort int the descending order

# We can sort by multiple variables by passing them as a list
df.sort_values(["column_name1","column_name2"])
#while we need to sort order to be different, pass a list of bollenasto asending paramerters
df.sort_values(["column_name1","column_name2"], ascending = [True, False])
```

### Subsetting
>**Subsetting can be done or rows or columns**

#### Subsetting Columns

>**We may want to zoom in to just a few columns or multiple**
```python
df["column_name"] #displays the content of only 1 column
df[["column_name1","column_name2"]] # Displaying multiple columns, pass the list of column names

# You can provide a seperate list of columns as a variable and then perform subsetting

cols_to_subset = ["column_name1","column_name2"]
df[cols_to_subset]

```
#### Subsetting rows

>**We may want to zoom in to just a few rows or multiple**

```python
df["columns_name"] > value # Returns a boolean. Use this logical condition inside []
df[df["column_name"] > value]
```

>**Subsetting based on text data**
```python
df[df["column_name"] == "value"]
```
>**subsetting based on dates**
```python
df[df["date_column_name"] < "2015-01-01"]
```
>**subsetting based on multiple conditions using logical operators**
```python
is_lab = dogs["breed"] == "Labrador"
is_brown = dogs["color"] == "Brown"
dogs[is_lab & is_brown]

# this can be done in one line of code**

dogs[(dogs["breed"] == "Labrador") & (dogs["color"] == "Brown")]
```
>**Subsetting using.isin()**
```python
is_black_or_brown = dogs["color"].isin(["Black","Brown"])
dogs[is_black_or_brown]
```

>**Exapmle Sorting and Subsetting**
```python
# Sort homelessness by individuals
homelessness_ind = homelessness.sort_values("individuals")

# Print the top few rows
print(homelessness_ind.head())

#########
# Sort homelessness by descending family members
homelessness_fam = homelessness.sort_values("family_members" , ascending = False)

# Print the top few rows
print(homelessness_fam.head())

#########
# Sort homelessness by region, then descending family members
homelessness_reg_fam = homelessness.sort_values(["region", "family_members"], ascending=[True, False])

# Print the top few rows
print(homelessness_reg_fam.head())

#######################
# Select the individuals column
individuals = homelessness["individuals"]

# Print the head of the result
print(individuals.head())

#########
# Select the state and family_members columns
state_fam = homelessness[["state","family_members"]]

# Print the head of the result
print(state_fam.head())

#########
# Select only the individuals and state columns, in that order
ind_state = homelessness[["individuals","state"]]

# Print the head of the result
print(ind_state.head())

################ Filtering rows
# Filter for rows where individuals is greater than 10000
ind_gt_10k = homelessness[homelessness["individuals"] > 10000]

# See the result
print(ind_gt_10k)

#########
# Filter for rows where region is Mountain
mountain_reg = homelessness[homelessness["region"] == "Mountain"]

# See the result
print(mountain_reg)

#########
# Filter for rows where family_members is less than 1000 
# and region is Pacific
fam_lt_1k_pac = homelessness[(homelessness["family_members"] < 1000) & (homelessness["region"] == "Pacific")]

# See the result
print(fam_lt_1k_pac)


#########
# Subset for rows in South Atlantic or Mid-Atlantic regions
south_mid_atlantic = homelessness[homelessness["region"].isin(["South Atlantic", "Mid-Atlantic"])]

# See the result
print(south_mid_atlantic)

#####
# The Mojave Desert states
canu = ["California", "Arizona", "Nevada", "Utah"]

# Filter for rows in the Mojave Desert states
mojave_homelessness = homelessness[homelessness["state"].isin(canu)]

# See the result
print(mojave_homelessness)
```
## New Columns
### Adding New Columns
>**syntax**
>df["new_column_name"] = df["old_column_name"] with some calculation

```python
dogs["bmi"] = dogs["weight_kg"] / dogs["height_m"] ** 2
```
>**Exapmle:- Adding new columns**
```python
# Add total col as sum of individuals and family_members
homelessness["total"] = homelessness["individuals"] + homelessness["family_members"]

# Add p_individuals col as proportion of total that are individuals
homelessness["p_individuals"] = homelessness["individuals"] / homelessness["total"]

# See the result
print(homelessness)

##############
# Create indiv_per_10k col as homeless individuals per 10k state pop
homelessness["indiv_per_10k"] = 10000 * homelessness["individuals"] / homelessness["state_pop"] 

# Subset rows for indiv_per_10k greater than 20
high_homelessness = homelessness[homelessness["indiv_per_10k"] > 20]

# Sort high_homelessness by descending indiv_per_10k
high_homelessness_srt = high_homelessness.sort_values("indiv_per_10k", ascending = False)

# From high_homelessness_srt, select the state and indiv_per_10k cols
result = high_homelessness_srt[["state", "indiv_per_10k"]]

# See the result
print(result)
```
